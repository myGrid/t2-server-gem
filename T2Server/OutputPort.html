<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class T2Server::OutputPort -  Taverna 2 Server Ruby Interface Library version 0.9.1</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/t2-server/port.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link"><a href="Port.html">T2Server::Port</a>
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">XML::Methods</span>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-5B-5D">#[]</a>
    
    <li><a href="#method-i-error">#error</a>
    
    <li><a href="#method-i-error-3F">#error?</a>
    
    <li><a href="#method-i-reference">#reference</a>
    
    <li><a href="#method-i-size">#size</a>
    
    <li><a href="#method-i-total_size">#total_size</a>
    
    <li><a href="#method-i-type">#type</a>
    
    <li><a href="#method-i-value">#value</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGES_rdoc.html">CHANGES</a>
  
    <li class="file"><a href="../LICENCE_rdoc.html">LICENCE</a>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../T2Server.html">T2Server</a>
  
    <li><a href="../T2Server/AccessForbiddenError.html">T2Server::AccessForbiddenError</a>
  
    <li><a href="../T2Server/Administrator.html">T2Server::Administrator</a>
  
    <li><a href="../T2Server/Administrator/AdminResource.html">T2Server::Administrator::AdminResource</a>
  
    <li><a href="../T2Server/AttributeNotFoundError.html">T2Server::AttributeNotFoundError</a>
  
    <li><a href="../T2Server/AuthorizationError.html">T2Server::AuthorizationError</a>
  
    <li><a href="../T2Server/ClientAuthSSLConnectionParameters.html">T2Server::ClientAuthSSLConnectionParameters</a>
  
    <li><a href="../T2Server/ConnectionError.html">T2Server::ConnectionError</a>
  
    <li><a href="../T2Server/ConnectionParameters.html">T2Server::ConnectionParameters</a>
  
    <li><a href="../T2Server/ConnectionRedirectError.html">T2Server::ConnectionRedirectError</a>
  
    <li><a href="../T2Server/CustomCASSLConnectionParameters.html">T2Server::CustomCASSLConnectionParameters</a>
  
    <li><a href="../T2Server/DefaultConnectionParameters.html">T2Server::DefaultConnectionParameters</a>
  
    <li><a href="../T2Server/InputPort.html">T2Server::InputPort</a>
  
    <li><a href="../T2Server/InsecureSSLConnectionParameters.html">T2Server::InsecureSSLConnectionParameters</a>
  
    <li><a href="../T2Server/OutputPort.html">T2Server::OutputPort</a>
  
    <li><a href="../T2Server/Port.html">T2Server::Port</a>
  
    <li><a href="../T2Server/PortValue.html">T2Server::PortValue</a>
  
    <li><a href="../T2Server/Run.html">T2Server::Run</a>
  
    <li><a href="../T2Server/RunNotFoundError.html">T2Server::RunNotFoundError</a>
  
    <li><a href="../T2Server/RunStateError.html">T2Server::RunStateError</a>
  
    <li><a href="../T2Server/Server.html">T2Server::Server</a>
  
    <li><a href="../T2Server/ServerAtCapacityError.html">T2Server::ServerAtCapacityError</a>
  
    <li><a href="../T2Server/T2ServerError.html">T2Server::T2ServerError</a>
  
    <li><a href="../T2Server/UnexpectedServerResponse.html">T2Server::UnexpectedServerResponse</a>
  
    <li><a href="../T2Server/Util.html">T2Server::Util</a>
  
    <li><a href="../T2Server/Version.html">T2Server::Version</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class T2Server::OutputPort</h1>

  <div id="description" class="description">
    
<p>Represents an output port of a workflow.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            [int] &rarr; obj
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>This call provides access to the underlying structure of the <a
href="OutputPort.html">OutputPort</a>. It can only be used for ports of
depth &gt;= 1. For singleton ports, use <a
href="OutputPort.html#method-i-value">#value</a> instead.</p>

<p>Example usage - To get part of a value from an output port with depth 3: <a
href="http://1">port</a>[<a href="http://1">0]</a>.value(10…100)</p>
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">i</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@structure</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
  <span class="ruby-ivar">@structure</span>[<span class="ruby-identifier">i</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- 5B-5D-source -->
          
        </div>

        

        
      </div><!-- 5B-5D-method -->

    
      <div id="method-i-error" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            error &rarr; String
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the error message (if there is one) of this output port.</p>

<p>This method is only for use on outputs of depth 0. For other depths use
‘port[].error’</p>
          

          
          <div class="method-source-code" id="error-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 266</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
  <span class="ruby-ivar">@structure</span>.<span class="ruby-identifier">error</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- error-source -->
          
        </div>

        

        
      </div><!-- error-method -->

    
      <div id="method-i-error-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            error? &rarr; bool
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Is there an error associated with this output port?</p>
          

          
          <div class="method-source-code" id="error-3F-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error?</span>
  <span class="ruby-ivar">@error</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- error-3F-source -->
          
        </div>

        

        
      </div><!-- error-3F-method -->

    
      <div id="method-i-reference" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            reference &rarr; String
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            reference &rarr; Array
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get URI references to the data values of this output port as strings.</p>

<p>For a singleton output a single uri is returned. For lists an array of uris
is returned. For an individual reference from a list use
‘port[].reference’.</p>
          

          
          <div class="method-source-code" id="reference-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reference</span>
  <span class="ruby-ivar">@refs</span> = <span class="ruby-identifier">strip</span>(<span class="ruby-value">:reference</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@refs</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@refs</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- reference-source -->
          
        </div>

        

        
      </div><!-- reference-method -->

    
      <div id="method-i-size" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            size &rarr; int
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            size &rarr; Array
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the data size of the data value in this output port.</p>

<p>For a singleton output a single size is returned. For lists an array of
sizes is returned. For an individual size from a list use ‘port[].size’.</p>
          

          
          <div class="method-source-code" id="size-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 254</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">size</span>
  <span class="ruby-ivar">@sizes</span> = <span class="ruby-identifier">strip</span>(<span class="ruby-value">:size</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@sizes</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@sizes</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- size-source -->
          
        </div>

        

        
      </div><!-- size-method -->

    
      <div id="method-i-total_size" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            total_size &rarr; int
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Return the total data size of all the data in this output port.</p>
          

          
          <div class="method-source-code" id="total_size-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 275</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">total_size</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@total_size</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@total_size</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@structure</span>.<span class="ruby-identifier">instance_of?</span> <span class="ruby-constant">Array</span>
    <span class="ruby-keyword">return</span> <span class="ruby-value">0</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@structure</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-ivar">@total_size</span> = <span class="ruby-identifier">strip</span>(<span class="ruby-value">:size</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">inject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">i</span> }
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@total_size</span> = <span class="ruby-identifier">size</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- total_size-source -->
          
        </div>

        

        
      </div><!-- total_size-method -->

    
      <div id="method-i-type" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            type &rarr; String
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            type &rarr; Array
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Get the mime type of the data value in this output port.</p>

<p>For a singleton output a single type is returned. For lists an array of
types is returned. For an individual type from a list use ‘port[].type’.</p>
          

          
          <div class="method-source-code" id="type-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">type</span>
  <span class="ruby-ivar">@types</span> = <span class="ruby-identifier">strip</span>(<span class="ruby-value">:type</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@types</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@types</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- type-source -->
          
        </div>

        

        
      </div><!-- type-method -->

    
      <div id="method-i-value" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            value &rarr; obj
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            value(range) &rarr; obj
          </span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            value &rarr; Array
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>For singleton outputs get the value (or part of it). For list outputs get
all the values in an Array structure that mirrors the structure of the
output port. To get part of a value from a list use ‘port[].value(range)’.</p>
          

          
          <div class="method-source-code" id="value-source">
            <pre><span class="ruby-comment"># File lib/t2-server/port.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">value</span>(<span class="ruby-identifier">range</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">range</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-ivar">@structure</span>.<span class="ruby-identifier">value</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@structure</span>.<span class="ruby-identifier">value</span>(<span class="ruby-identifier">range</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@values</span> = <span class="ruby-identifier">strip</span>(<span class="ruby-value">:value</span>) <span class="ruby-keyword">if</span> <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@values</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- value-source -->
          
        </div>

        

        
      </div><!-- value-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

